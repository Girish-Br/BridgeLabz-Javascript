  
var Utility=require('../utility/Utility');
var dequeue=require('../DataStructurePrograms/utility/checkerDeque.js');
function palindromeChecker(){
    /**
     * here we read the input from user that input function stored in utility.
     */
    var read=Utility.input();
    read.question("Enter a string: ",function(str){
        if(str>='a' && str<='z'||str>='A' && str>='Z'){
            dequeue.Palindrome(str);    
        }
        /**
         * check if string is empty
         */
        else if(str==""){
            console.log("Plz enter a string....");
        }
        /**
         * check if its not an charcter string it will print error msg
         */
        else {
            console.log("Plz enter a character string only...");
        }
        read.close();
    });
}
palindromeChecker();

function deQueue(){
    this.string=new Array();
    /*
    * remove the item from back
    */
    this.popback=function(){
        return this.string.pop();
    }
    /*
    * add the item into back
    */
    this.pushback=function(item){
        return this.string.push(item);
    }
    /*
    * remove the item from front
    */
    this.popfront=function(){
        return this.string.shift();
    }
    /*
    * add the item into front
    */
    this.pushfront=function(item){
        return this.string.unshift(item);
    }
    /*
    * print dequeue
    */
    this.printQueue=function(){
        var str='';
        for(var i=0;i<this.string.length;i++){
            str+=this.string[i]+" ";
        }
        return str;
    }
    /*
    returns the length of deQueue
    */
    this.size=function(){
        return this.string.length;
    }
}
/**
 * exports if a object that get exposed to a module and it is by default in every js file.
 */
module.exports={
    Palindrome(str){
        /**
        * create a new deque. 
        **/
        var deque=new deQueue();
        var array=[];
        array=str.split('');
        for(var i=0;i<array.length;i++){
            deque.pushback(array[i]);
        }
        console.log(deque.printQueue());
        var flag=true;
        /*
        * checks the deque size
        */
        if(deque.size()%2==0){
            /*
            * it will checks if the deque size is greater than zero
            */
            while(deque.size()>0){
                var a=deque.popfront();
                var b=deque.popback();
                if(a!=b){
                    flag=false;
                }
            }
        }
        else{
            /*
            * it will checks if the deque size is greater than one
            */
            while(deque.size()>1){
                var a=deque.popfront();
                var b=deque.popback();
                if(a!=b){
                    flag=false;
                }
            }
        }
        /*
        * if the strings are equal returns this statements
        */
        if(flag==true){
            console.log("Palindrome");
        }
        else{
            console.log("Not a Palindrome");
        }
    }
}
